(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,a,t){e.exports=t(313)},313:function(e,a,t){"use strict";t.r(a);t(154);var n=t(1),r=t.n(n),i=t(9),c=t.n(i),l=t(38),s=t(99),o=t(105),u=t(100),h=t(106),d=t(101),m=t.n(d),f=function e(a){var t=this;Object(l.a)(this,e),this.roll=function(){var e=Math.floor(Math.random()*Math.floor(t.eyes-1))+1;switch(t.modifier){case"-":return e-t.static;case"+":default:return e+t.static}},this.toString=function(){return"".concat(t.count,"W").concat(t.eyes)+(t.static?t.modifier+t.static:"")},a||(a="1W6");var n=/(\d*)[Ww](\d+)(?:([+-])(\d+))?/gm.exec(a);if(!n)throw Error("Cannot Parse dice String please Provide legal arguments like 1W6 / 2W10");this.notation=n[0],this.count=n[1],this.eyes=n[2],this.modifier=n[3]||"+",this.static=parseInt(n[4],10)||0},p=m.a.mark(g),v=function e(a){var t=this;Object(l.a)(this,e),this.dice=new f,this.weaponSpeed=6,this.exact=0,this.critical=0,this.sharp=0,this.massive=!1,this.lastCalculatedAverage=0,this.setDice=function(e){if(!(e instanceof f))throw Error("Expected Dice!");t.dice=e},this.setWeaponSpeed=function(e){if(e<=0)throw Error("Weapon speed cannot be smaller or eqal zero");t.weaponSpeed=e},this.setExact=function(e){t.exact=parseInt(e,10)},this.hasExact=function(){return t.exact>0},this.setMassive=function(e){t.massive=e},this.hasMassive=function(){return t.massive},this.getMassiveBonus=function(){return parseInt(Math.floor(4*Math.random())+1,10)*(t.hasMassive()?2:1)},this.setCritical=function(e){t.critical=parseInt(e,10)},this.hasCritical=function(){return t.critical>0},this.setSharp=function(e){t.sharp=parseInt(e,10)},this.hasSharp=function(){return t.sharp>0},this.attack=function(){for(var e=0,a=0;a<t.dice.count;a++){var n=t.dice.roll();if(t.hasExact())for(var r=0;r<t.exact;r++){var i=t.dice.roll();i>n&&(n=i)}t.hasSharp()&&n<t.sharp&&(n=t.sharp),t.hasCritical()&&n===parseInt(t.dice.eyes,10)&&(n+=t.critical),e+=n+=t.getMassiveBonus()}return e},this.averageDamage=function(e){for(var a,n=g(t,e),r=0;(a=n.next())&&!1===a.done;)r+=a.value;var i=r/e/t.weaponSpeed;return t.lastCalculatedAverage=i.toFixed(2),i},this.toString=function(){return t.dice.toString()+(t.hasCritical()?" K"+t.critical:"")+(t.hasSharp()?" S"+t.sharp:"")+(t.hasExact()?" E"+t.exact:"")+(t.hasMassive()?" W":"")},this.dice=new f(a)};function g(e,a){var t;return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t=0;case 1:if(!(t<a)){n.next=7;break}return n.next=4,e.attack();case 4:t++,n.next=1;break;case 7:case"end":return n.stop()}},p,this)}var E=t(317),w=t(56),b=t(320),x=t(318),W=t(319),S=t(315),k=t(33),y=t(316),C=t(10),j=E.a.Item,O=w.a.Option,D=b.a.Header,I=b.a.Footer,A=b.a.Content,M=function(e){function a(){var e,t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(o.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).internalSubmitHandler=function(e){e.preventDefault(),t.props.form.validateFields(function(e,a){e||t.props.handleSubmit(a)})},t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:12}}},a=this.props.form.getFieldDecorator;return r.a.createElement(E.a,{onSubmit:this.internalSubmitHandler},r.a.createElement(j,Object.assign({},e,{label:"Waffenw\xfcrfel"}),a("weaponDice",{initialValue:"1W6",rules:[{required:!0,message:"Der Waffenw\xfcrfel muss angegeben sein!"}]})(r.a.createElement(w.a,null,r.a.createElement(O,{value:"1W6"},"1W6"),r.a.createElement(O,{value:"2W6"},"2W6"),r.a.createElement(O,{value:"3W6"},"3W6"),r.a.createElement(O,{value:"1W10"},"1W10"),r.a.createElement(O,{value:"2W10"},"2W10")))),r.a.createElement(j,Object.assign({},e,{label:"Waffenschaden"}),a("baseDamage",{rules:[{required:!1}]})(r.a.createElement(x.a,{name:"baseDamage",type:"text",placeholder:"",addonBefore:"+",addonAfter:"Basisschaden"}))),r.a.createElement(j,Object.assign({},e,{label:"Waffengeschwindigkeit"}),a("weaponSpeed",{initialValue:6,min:1,max:100,rules:[{required:!0,message:"Waffengeschwindigkeit wird ben\xf6tigt"}]})(r.a.createElement(W.a,{label:"Waffengeschwindigkeit",addonAfter:"Ticks"}))),r.a.createElement(j,Object.assign({},e,{label:"Exakt"}),a("exact",{initialValue:"0"})(r.a.createElement(w.a,null,r.a.createElement(O,{value:"0"},"Nein"),r.a.createElement(O,{value:"1"},"1"),r.a.createElement(O,{value:"2"},"2"),r.a.createElement(O,{value:"3"},"3"),r.a.createElement(O,{value:"4"},"4"),r.a.createElement(O,{value:"5"},"5")))),r.a.createElement(j,Object.assign({},e,{label:"Kritisch"}),a("critical",{initialValue:"0"})(r.a.createElement(w.a,null,r.a.createElement(O,{value:"0"},"Nein"),r.a.createElement(O,{value:"1"},"1"),r.a.createElement(O,{value:"2"},"2"),r.a.createElement(O,{value:"3"},"3"),r.a.createElement(O,{value:"4"},"4"),r.a.createElement(O,{value:"5"},"5"),r.a.createElement(O,{value:"6"},"6")))),r.a.createElement(j,Object.assign({},e,{label:"Scharf"}),a("scharp",{initialValue:"0"})(r.a.createElement(w.a,null,r.a.createElement(O,{value:"0"},"Nein"),r.a.createElement(O,{value:"1"},"1"),r.a.createElement(O,{value:"2"},"2"),r.a.createElement(O,{value:"3"},"3"),r.a.createElement(O,{value:"4"},"4")))),r.a.createElement(j,Object.assign({},e,{label:"Wuchtig",colon:!0}),a("massive",{initialValue:!1})(r.a.createElement(S.a,null))),r.a.createElement(j,Object.assign({},e,{label:" ",colon:!1}),r.a.createElement(k.a,{type:"primary",htmlType:"submit"}," ","Berechnen"," ")))}}]),a}(n.Component),N=E.a.create()(M),B=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(u.a)(a).call(this,e))).handleSubmit=function(e){console.log(e);var a=this.state,t=a.lastCalculated||[];console.log(e.weaponDice+"+"+(e.baseDamage||"0"));var n=new v(e.weaponDice+"+"+e.baseDamage||0);n.setWeaponSpeed(e.weaponSpeed),n.setCritical(e.critical),n.setExact(e.exact),n.setSharp(e.scharp),n.setMassive(e.massive),n.averageDamage(1e3),t.push(n),this.setState(a)},t.state={lastCalculated:[],weaponDamage:"1W6",weaponSpeed:"6",fixDamage:"0",critical:"0",exact:"0",sharp:"0",massive:!1},t}return Object(h.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b.a,null,r.a.createElement(D,null,r.a.createElement("h1",{style:{color:"#fff"}},"Welcome to Weapon Calculator")),r.a.createElement(b.a,null,r.a.createElement(A,{style:{padding:"0 50px"}},r.a.createElement("div",null,r.a.createElement(N,{handleSubmit:this.handleSubmit.bind(this)})),r.a.createElement("div",null,r.a.createElement(y.a,{columns:[{title:"Schaden",dataIndex:"weaponDamage",key:"weaponDamage",filters:[{text:"1W6",value:"1W6"},{text:"2W6",value:"2W6"},{text:"3W6",value:"3W6"},{text:"1W10",value:"1W10"},{text:"2W10",value:"2W10"}],onFilter:function(e,a){return a.weaponDamage===e}},{title:"WGS",dataIndex:"weaponSpeed",key:"weaponSpeed"},{title:"Exact",dataIndex:"exact",key:"exact",render:function(e){return"0"===e?"Nein":e}},{title:"Kritisch",dataIndex:"critical",key:"critical",render:function(e){return"0"===e?"Nein":e}},{title:"Scharf",dataIndex:"scharp",key:"scharp",render:function(e){return"0"===e?"Nein":e}},{title:"Wuchtig",dataIndex:"massive",key:"massive",filters:[{text:"Ja",value:!0},{text:"Nein",value:!1}],render:function(e){return!0===e?"Ja":"Nein"},onFilter:function(e,a){return a.massive===("true"===e)}},{title:"Durchschnittschaden",dataIndex:"lastCalculatedAverage",key:"lastCalculatedAverage",sorter:function(e,a){return e.lastCalculatedAverage-a.lastCalculatedAverage}}],dataSource:this.state.lastCalculated.map(function(e,a){return{weaponDamage:e.dice.toString(),weaponSpeed:e.weaponSpeed,exact:e.exact,critical:e.critical,scharp:e.sharp,massive:e.massive,lastCalculatedAverage:e.lastCalculatedAverage,key:a}})})))),r.a.createElement(I,{style:{textAlign:"center"}},r.a.createElement("a",{href:"https://github.com/42tg/weapon_calculator_web",style:{color:"black"}},"(",r.a.createElement(C.a,{type:"github"})," => ",r.a.createElement(C.a,{type:"heart"}),")"))))}}]),a}(n.Component),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function V(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(r.a.createElement(B,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/weapon_calculator_web",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/weapon_calculator_web","/service-worker.js");F?(function(e){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):V(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):V(e)})}}()}},[[153,1,2]]]);
//# sourceMappingURL=main.2d3c5e8d.chunk.js.map